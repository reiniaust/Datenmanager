<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Daten</title>
  </head>
  <body>
    <form action="/form" method="post">
      <label>Suche:</label>
      <input name="search" value="{{ search }}" >
      <select name="view_name">
        {% for key, value in views.items() %}
        <option value={{ key }} {% if view_name == key %} selected {% endif %}>{{ key }}</option>
        {% endfor %}
      </select>
      <input type="submit" value="AuswÃ¤hlen">
    </form>
    {% if view_name %}
    <table>
      <thead>
        <tr>
          {% for column in views[view_name]["data_found"][0] %}
          <th>{{ column }}</th>
          {% endfor %}
        </tr>
      </thead>
      <tbody>
        {% for row in views[view_name]["data_found"] %}
        <tr>
          {% for key, value in row.items() %} {% if key == "ID"%}
          <td>{{ value }}</td>
          {% else %} {% if relations[key] %}
          <td>
            <select value={{ value }}>
              {% for row in relations[key] %}
              <option value={{ row["ID"] }} {% if row["ID"] == value %} selected {% endif %}>{{ row["Name"] }}</option>
              {% endfor %}
            </select>
          </td> 
          {% else %}
          <td><input type="text" value="{{ value }}" /></td>
          {% endif %} {% endif %} {% endfor %}
        </tr>
        {% endfor %}
      </tbody>
    </table>
    {% endif %}
  </body>
</html>
